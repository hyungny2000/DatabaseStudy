#### VIP 기동이 안되는 마스터서버 로그내용
```
Feb 10 23:13:29 postrm01 Keepalived[3089]: Starting Keepalived v2.1.5 (07/13,2020)
Feb 10 23:13:29 postrm01 Keepalived[3089]: Running on Linux 5.15.153.1-microsoft-standard-WSL2 #1 SMP Fri Mar 29 23:16:34 UTC 2024 (built for Linux 4.18.0)
Feb 10 23:13:29 postrm01 Keepalived[3089]: Command line: '/usr/sbin/keepalived' '-D'
Feb 10 23:13:29 postrm01 Keepalived[3089]: Opening file '/etc/keepalived/keepalived.conf'.
Feb 10 23:13:29 postrm01 Keepalived[3090]: NOTICE: setting config option max_auto_priority should result in better keepalived performance
Feb 10 23:13:29 postrm01 Keepalived[3090]: Starting VRRP child process, pid=3091
Feb 10 23:13:29 postrm01 Keepalived_vrrp[3091]: Registering Kernel netlink reflector
Feb 10 23:13:29 postrm01 Keepalived_vrrp[3091]: Registering Kernel netlink command channel
Feb 10 23:13:29 postrm01 systemd[1]: Started LVS and VRRP High Availability Monitor.
Feb 10 23:13:29 postrm01 Keepalived_vrrp[3091]: Opening file '/etc/keepalived/keepalived.conf'.
Feb 10 23:13:29 postrm01 Keepalived_vrrp[3091]: WARNING - default user 'keepalived_script' for script execution does not exist - please create.
Feb 10 23:13:29 postrm01 Keepalived_vrrp[3091]: Unsafe permissions found for script '/var/lib/pgsql/12/repmgr/keepalived_pgsql_chk.sh'.
Feb 10 23:13:29 postrm01 Keepalived_vrrp[3091]: SECURITY VIOLATION - scripts are being executed but script_security not enabled. There are insecure scripts.
Feb 10 23:13:29 postrm01 Keepalived_vrrp[3091]: Assigned address 172.20.0.112 for interface eth0
Feb 10 23:13:29 postrm01 Keepalived_vrrp[3091]: Registering gratuitous ARP shared channel
Feb 10 23:13:29 postrm01 Keepalived_vrrp[3091]: (VI_1) removing VIPs.
Feb 10 23:13:29 postrm01 Keepalived_vrrp[3091]: (VI_1) Entering BACKUP STATE (init)
Feb 10 23:13:29 postrm01 Keepalived_vrrp[3091]: VRRP sockpool: [ifindex( 12), family(IPv4), proto(112), fd(11,12), unicast, address(172.20.0.112)]
Feb 10 23:13:29 postrm01 Keepalived_vrrp[3091]: Script `chk_haproxy` now returning 1
Feb 10 23:13:29 postrm01 Keepalived_vrrp[3091]: VRRP_Script(chk_haproxy) failed (exited with status 1)
Feb 10 23:13:29 postrm01 Keepalived_vrrp[3091]: (VI_1) Changing effective priority from 100 to 96
Feb 10 23:16:05 postrm01 Keepalived_vrrp[3091]: (VI_1) Backup received priority 0 advertisement
Feb 10 23:16:05 postrm01 Keepalived_vrrp[3091]: (VI_1) Receive advertisement timeout
Feb 10 23:16:05 postrm01 Keepalived_vrrp[3091]: (VI_1) Entering MASTER STATE
Feb 10 23:16:05 postrm01 Keepalived_vrrp[3091]: (VI_1) setting VIPs.
Feb 10 23:16:05 postrm01 Keepalived_vrrp[3091]: (VI_1) Sending/queueing gratuitous ARPs on eth0 for 172.20.0.115
Feb 10 23:16:05 postrm01 Keepalived_vrrp[3091]: Sending gratuitous ARP on eth0 for 172.20.0.115
Feb 10 23:16:05 postrm01 Keepalived_vrrp[3091]: Sending gratuitous ARP on eth0 for 172.20.0.115
Feb 10 23:16:05 postrm01 Keepalived_vrrp[3091]: Sending gratuitous ARP on eth0 for 172.20.0.115
Feb 10 23:16:05 postrm01 Keepalived_vrrp[3091]: Sending gratuitous ARP on eth0 for 172.20.0.115
Feb 10 23:16:05 postrm01 Keepalived_vrrp[3091]: Sending gratuitous ARP on eth0 for 172.20.0.115
Feb 10 23:16:09 postrm01 Keepalived_vrrp[3091]: (VI_1) Master received advert from 172.20.0.113 with higher priority 100, ours 96
Feb 10 23:16:09 postrm01 Keepalived_vrrp[3091]: (VI_1) Entering BACKUP STATE
Feb 10 23:16:09 postrm01 Keepalived_vrrp[3091]: (VI_1) removing VIPs.
Feb 10 23:16:12 postrm01 systemd[1]: Stopping LVS and VRRP High Availability Monitor...
Feb 10 23:16:12 postrm01 Keepalived[3090]: Stopping
Feb 10 23:16:13 postrm01 Keepalived_vrrp[3091]: Stopped - used 0.015717 user time, 0.120198 system time
Feb 10 23:16:13 postrm01 Keepalived[3090]: CPU usage (self/children) user: 0.002497/0.196363 system: 0.000000/0.415297
Feb 10 23:16:13 postrm01 systemd[1]: keepalived.service: Succeeded.
Feb 10 23:16:13 postrm01 Keepalived[3090]: Stopped Keepalived v2.1.5 (07/13,2020)
Feb 10 23:16:13 postrm01 systemd[1]: Stopped LVS and VRRP High Availability Monitor.
Feb 10 23:16:13 postrm01 systemd[1]: Starting LVS and VRRP High Availability Monitor...
Feb 10 23:16:13 postrm01 Keepalived[3513]: Starting Keepalived v2.1.5 (07/13,2020)
Feb 10 23:16:13 postrm01 Keepalived[3513]: Running on Linux 5.15.153.1-microsoft-standard-WSL2 #1 SMP Fri Mar 29 23:16:34 UTC 2024 (built for Linux 4.18.0)
Feb 10 23:16:13 postrm01 Keepalived[3513]: Command line: '/usr/sbin/keepalived' '-D'
Feb 10 23:16:13 postrm01 Keepalived[3513]: Opening file '/etc/keepalived/keepalived.conf'.
Feb 10 23:16:13 postrm01 Keepalived[3514]: NOTICE: setting config option max_auto_priority should result in better keepalived performance
Feb 10 23:16:13 postrm01 Keepalived[3514]: Starting VRRP child process, pid=3515
Feb 10 23:16:13 postrm01 Keepalived_vrrp[3515]: Registering Kernel netlink reflector
Feb 10 23:16:13 postrm01 Keepalived_vrrp[3515]: Registering Kernel netlink command channel
Feb 10 23:16:13 postrm01 systemd[1]: Started LVS and VRRP High Availability Monitor.
Feb 10 23:16:13 postrm01 Keepalived_vrrp[3515]: Opening file '/etc/keepalived/keepalived.conf'.
Feb 10 23:16:13 postrm01 Keepalived_vrrp[3515]: WARNING - default user 'keepalived_script' for script execution does not exist - please create.
Feb 10 23:16:13 postrm01 Keepalived_vrrp[3515]: Unsafe permissions found for script '/var/lib/pgsql/12/repmgr/keepalived_pgsql_chk.sh'.
Feb 10 23:16:13 postrm01 Keepalived_vrrp[3515]: SECURITY VIOLATION - scripts are being executed but script_security not enabled. There are insecure scripts.
Feb 10 23:16:13 postrm01 Keepalived_vrrp[3515]: Assigned address 172.20.0.112 for interface eth0
Feb 10 23:16:13 postrm01 Keepalived_vrrp[3515]: Registering gratuitous ARP shared channel
Feb 10 23:16:13 postrm01 Keepalived_vrrp[3515]: (VI_1) removing VIPs.
Feb 10 23:16:13 postrm01 Keepalived_vrrp[3515]: (VI_1) Entering BACKUP STATE (init)
Feb 10 23:16:13 postrm01 Keepalived_vrrp[3515]: VRRP sockpool: [ifindex( 12), family(IPv4), proto(112), fd(11,12), unicast, address(172.20.0.112)]
Feb 10 23:16:13 postrm01 Keepalived_vrrp[3515]: Script `chk_haproxy` now returning 1
Feb 10 23:16:13 postrm01 Keepalived_vrrp[3515]: VRRP_Script(chk_haproxy) failed (exited with status 1)
Feb 10 23:16:13 postrm01 Keepalived_vrrp[3515]: (VI_1) Changing effective priority from 100 to 96
[root@postrm01 keepalived]#
```
- `Script chk_haproxy now returning 1` : 스크립트가 1을 반환했기 때문에 VIP를 제거했다고 보여짐. 스크립트 테스트해야 함.

#### 이상하게 VIP가 붙어있는 스탠바이DB의 Keepalived로그
```
Feb 10 23:16:06 postrm02 systemd[1]: Starting LVS and VRRP High Availability Monitor...
Feb 10 23:16:06 postrm02 Keepalived[1952]: Starting Keepalived v2.1.5 (07/13,2020)
Feb 10 23:16:06 postrm02 Keepalived[1952]: Running on Linux 5.15.153.1-microsoft-standard-WSL2 #1 SMP Fri Mar 29 23:16:34 UTC 2024 (built for Linux 4.18.0)
Feb 10 23:16:06 postrm02 Keepalived[1952]: Command line: '/usr/sbin/keepalived' '-D'
Feb 10 23:16:06 postrm02 Keepalived[1952]: Opening file '/etc/keepalived/keepalived.conf'.
Feb 10 23:16:06 postrm02 Keepalived[1953]: NOTICE: setting config option max_auto_priority should result in better keepalived performance
Feb 10 23:16:06 postrm02 Keepalived[1953]: Starting VRRP child process, pid=1954
Feb 10 23:16:06 postrm02 Keepalived_vrrp[1954]: Registering Kernel netlink reflector
Feb 10 23:16:06 postrm02 Keepalived_vrrp[1954]: Registering Kernel netlink command channel
Feb 10 23:16:06 postrm02 Keepalived_vrrp[1954]: Opening file '/etc/keepalived/keepalived.conf'.
Feb 10 23:16:06 postrm02 systemd[1]: Started LVS and VRRP High Availability Monitor.
Feb 10 23:16:06 postrm02 Keepalived_vrrp[1954]: WARNING - default user 'keepalived_script' for script execution does not exist - please create.
Feb 10 23:16:06 postrm02 Keepalived_vrrp[1954]: WARNING - script '/var/lib/pgsql/12/repmgr/keepalived_pgsql_chk.sh' is not executable for uid:gid 0:0 - disabling.
Feb 10 23:16:06 postrm02 Keepalived_vrrp[1954]: SECURITY VIOLATION - scripts are being executed but script_security not enabled.
Feb 10 23:16:06 postrm02 Keepalived_vrrp[1954]: Assigned address 172.20.0.113 for interface eth0
Feb 10 23:16:06 postrm02 Keepalived_vrrp[1954]: Registering gratuitous ARP shared channel
Feb 10 23:16:06 postrm02 Keepalived_vrrp[1954]: (VI_2) removing VIPs.
Feb 10 23:16:06 postrm02 Keepalived_vrrp[1954]: (VI_2) Entering BACKUP STATE (init)
Feb 10 23:16:06 postrm02 Keepalived_vrrp[1954]: VRRP sockpool: [ifindex(  8), family(IPv4), proto(112), fd(11,12), unicast, address(172.20.0.113)]
Feb 10 23:16:06 postrm02 Keepalived_vrrp[1954]: (VI_2) received lower priority (96) advert from 172.20.0.112 - discarding
Feb 10 23:16:07 postrm02 Keepalived_vrrp[1954]: (VI_2) received lower priority (96) advert from 172.20.0.112 - discarding
Feb 10 23:16:08 postrm02 Keepalived_vrrp[1954]: (VI_2) received lower priority (96) advert from 172.20.0.112 - discarding
Feb 10 23:16:09 postrm02 Keepalived_vrrp[1954]: (VI_2) received lower priority (96) advert from 172.20.0.112 - discarding
Feb 10 23:16:09 postrm02 Keepalived_vrrp[1954]: (VI_2) Receive advertisement timeout
Feb 10 23:16:09 postrm02 Keepalived_vrrp[1954]: (VI_2) Entering MASTER STATE
Feb 10 23:16:09 postrm02 Keepalived_vrrp[1954]: (VI_2) setting VIPs.
Feb 10 23:16:09 postrm02 Keepalived_vrrp[1954]: (VI_2) Sending/queueing gratuitous ARPs on eth0 for 172.20.0.115
Feb 10 23:16:09 postrm02 Keepalived_vrrp[1954]: Sending gratuitous ARP on eth0 for 172.20.0.115
Feb 10 23:16:09 postrm02 Keepalived_vrrp[1954]: Sending gratuitous ARP on eth0 for 172.20.0.115
Feb 10 23:16:09 postrm02 Keepalived_vrrp[1954]: Sending gratuitous ARP on eth0 for 172.20.0.115
Feb 10 23:16:09 postrm02 Keepalived_vrrp[1954]: Sending gratuitous ARP on eth0 for 172.20.0.115
Feb 10 23:16:09 postrm02 Keepalived_vrrp[1954]: Sending gratuitous ARP on eth0 for 172.20.0.115
Feb 10 23:16:14 postrm02 Keepalived_vrrp[1954]: (VI_2) Sending/queueing gratuitous ARPs on eth0 for 172.20.0.115
Feb 10 23:16:14 postrm02 Keepalived_vrrp[1954]: Sending gratuitous ARP on eth0 for 172.20.0.115
Feb 10 23:16:14 postrm02 Keepalived_vrrp[1954]: Sending gratuitous ARP on eth0 for 172.20.0.115
Feb 10 23:16:14 postrm02 Keepalived_vrrp[1954]: Sending gratuitous ARP on eth0 for 172.20.0.115
Feb 10 23:16:14 postrm02 Keepalived_vrrp[1954]: Sending gratuitous ARP on eth0 for 172.20.0.115
Feb 10 23:16:14 postrm02 Keepalived_vrrp[1954]: Sending gratuitous ARP on eth0 for 172.20.0.115
```
