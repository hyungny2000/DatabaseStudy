## Switchover 테스트
#### 테스트 시나리오
1. 현재 마스터/스탠바이 역할을 맞바꾸어 postrm01이 원래대로 마스터 역할을 하게 함.

#### 현재 클러스터 상황 조회
```
 ID | Name     | Role    | Status    | Upstream | Location | Priority | Timeline | Connection string
----+----------+---------+-----------+----------+----------+----------+----------+---------------------------------------------------------------
 1  | postrm01 | standby |   running | postrm02 | default  | 100      | 2        | host=172.20.0.112 user=repmgr dbname=repmgr connect_timeout=2
 2  | postrm02 | primary | * running |          | default  | 100      | 2        | host=172.20.0.113 user=repmgr dbname=repmgr connect_timeout=2
```

#### Switchover 실행
마스터로 만들고자 하는 노드에서 switchover 실행
```
repmgr -f /var/lib/pgsql/12/repmgr/repmgr.conf standby switchover --siblings-follow --dry-run
repmgr -f /var/lib/pgsql/12/repmgr/repmgr.conf standby switchover --siblings-follow
```
- `--siblings-follow` : 다른 스탠바이DB들 모두 마스터 노드와 이중화 연결되도록 하는 옵션

```
NOTICE: stopping current primary node "postrm02" (ID: 2)
NOTICE: issuing CHECKPOINT on node "postrm02" (ID: 2)
DETAIL: executing server command "/usr/pgsql-12/bin/pg_ctl stop"
INFO: checking for primary shutdown; 1 of 60 attempts ("shutdown_check_timeout")
INFO: checking for primary shutdown; 2 of 60 attempts ("shutdown_check_timeout")
INFO: checking for primary shutdown; 3 of 60 attempts ("shutdown_check_timeout")
...
INFO: checking for primary shutdown; 59 of 60 attempts ("shutdown_check_timeout")
INFO: checking for primary shutdown; 60 of 60 attempts ("shutdown_check_timeout")
ERROR: shutdown of the primary server could not be confirmed
HINT: check the primary server status before performing any further actions
(마스터노드 shutdown 실패.. 원인은 모르겠음.)
```

#### Switchover 이후 클러스터 현황 조회
