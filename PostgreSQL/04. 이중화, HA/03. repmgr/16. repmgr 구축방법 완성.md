## repmgr 구축방법 완성

#### repmgr 구축방법 요약
1. 이중화 대상, Witness DB구축
2. 노드 간 Passwordless SSH 설정
3. 각 노드에 repmgr 설치 (마스터/스탠바이/Witness)
5. 각 노드에 repmgr.conf 생성
6. 마스터DB에 repmgr 설정
   1. 모든 DB에 일일이 접속하여 create extension repmgr 실행
   2. non-superuser repmgr 계정 생성
   3. repmgr 전용 데이터베이스 생성 (owner repmgr)
   4. pg_hba.conf 파일에 md5인증으로 접속권한 생성
7. 각 서버의 postgres 홈 디렉토리에 .pgpass 생성
8. 마스터 서버에서 `repmgr primary register`로 노드 등록
9. 스탠바이 서버에 STANDBY CLONE 준비
    1. 스탠바이 서버의 데이터 디렉토리 비우기
    2. `repmgr standby clone`으로 스탠바이 서버 구축
10. 스탠바이 서버 기동 및 `repmgr standby register`로 등록
11. Witness 서버에 repmgr 설정
    1. 모든 DB에 일일이 접속하여 create extension repmgr 실행
    2. non-superuser repmgr 계정 생성
    3. repmgr 전용 데이터베이스 생성
    4. pg_hba.conf 파일에 md5인증으로 접속권한 생성
12. Witness서버를 `repmgr witness register`로 witness노드로 등록
13. 모든 노드의 repmgrd 데몬 띄우기
14. 
