## Subsription 옵션

#### Subscription 옵션
```
CREATE SUBSCRIPTION subscription_name
    CONNECTION 'conninfo'
    PUBLICATION publication_name [, ...]
    [ WITH ( subscription_parameter [= value] [, ... ] ) ]
```
- subscription 생성 시 with절에 설정하는 옵션들이 버전 마다 조금씩 추가되어 왔다.

#### PostgreSQL12 ([매뉴얼](https://www.postgresql.org/docs/12/sql-createsubscription.html))

###### copy_data (boolean)
Specifies whether the existing data in the publications that are being subscribed to should be copied once the replication starts. The default is true.

###### create_slot (boolean)
Specifies whether the command should create the replication slot on the publisher. The default is true.

###### enabled (boolean)
Specifies whether the subscription should be actively replicating, or whether it should be just setup but not started yet. The default is true.

###### slot_name (string)
Name of the replication slot to use. The default behavior is to use the name of the subscription for the slot name.

When slot_name is set to NONE, there will be no replication slot associated with the subscription. This can be used if the replication slot will be created later manually. Such subscriptions must also have both enabled and create_slot set to false.

###### synchronous_commit (enum)
The value of this parameter overrides the synchronous_commit setting. The default value is off.

It is safe to use off for logical replication: If the subscriber loses transactions because of missing synchronization, the data will be sent again from the publisher.

A different setting might be appropriate when doing synchronous logical replication. The logical replication workers report the positions of writes and flushes to the publisher, and when using synchronous replication, the publisher will wait for the actual flush. This means that setting synchronous_commit for the subscriber to off when the subscription is used for synchronous replication might increase the latency for COMMIT on the publisher. In this scenario, it can be advantageous to set synchronous_commit to local or higher.

###### connect (boolean)
Specifies whether the CREATE SUBSCRIPTION should connect to the publisher at all. Setting this to false will change default values of enabled, create_slot and copy_data to false.
It is not allowed to combine connect set to false and enabled, create_slot, or copy_data set to true.
Since no connection is made when this option is set to false, the tables are not subscribed, and so after you enable the subscription nothing will be replicated. It is required to run ALTER SUBSCRIPTION ... REFRESH PUBLICATION in order for tables to be subscribed.


