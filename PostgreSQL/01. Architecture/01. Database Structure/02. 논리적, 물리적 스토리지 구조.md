## 논리적 스토리지 구조

#### Database
- 테이블, 인덱스를 비롯한 DB오브젝트들의 논리적 집합.
- 주로 서비스 단위로 나눈다.
- base 서브디렉토리에 저장된다.

#### Database Cluster
- PostgreSQL에서 Database Cluster는 위에서 이야기한 Database의 집합을 말한다.
- 다른 DBMS에서 말하는 물리적 DB서버 장비들의 집합이 아니다.
- initdb 명령을 통해 Database Cluster를 초기화하며, 이렇게 생성된 파일과 서브디렉토리들의 집합을 **데이터디렉토리** 라고 한다.
- 데이터디렉토리의 경로는 $PGDATA 환경변수로 지정하여 사용한다.

#### Tablespace 
- base서브디렉토리 외의  데이터파일들의 저장공간을 말한다.
- pg_tblspc 서브디렉토리 내에 심볼릭 링크로 생성되며, 심볼릭 링크는 테이블스페이스 생성시 지정된 경로와 연결된다.
- 데이터디렉토리보다 더 넓거나 더 빠른 스토리지를 사용하고 싶을 때 사용한다.

#### Schema
- 테이블, 인덱스 등의 DB오브젝트를 묶는 개념으로 사용되며, 데이터베이스의 하위개념이다.
- 기본값으로 public스키마가 있다.
- 관련 파라미터 : search_pattern

<br><br>
## 물리적 스토리지 구조

#### 데이터파일
- 테이블, 인덱스의 데이터를 물리적으로 저장하는 파일이다.
- 데이터파일은 한 테이블, 인덱스 당 세 가지가 있다.
  - 데이터파일 : 테이블, 인덱스 등의 데이터 페이지(Page)를 저장한다.
  - VM : Visibility Map의 준말로, 각 페이지 별 Visibility를 저장한다. vm으로 끝난다.
  - FSM : Free Space Mapping의 준말로, 각 페이지 별 Free Space정보를 저장한다. fsm으로 끝난다.

#### 페이지 (Page)
- 데이터파일을 구성하는 단위로, DB에서 메모리와 디스크 간 입출력을 위한 최소단위이다.
다시 말하면, 쿼리에서 단 한 줄만 읽더라도 한 페이지(Page)를 읽어야 한다는 뜻이다.
- 페이지는 여러 개의 튜플(Tuple)로 구성된다.
- 크기는 8192 Bytes로 고정적이다.

#### 튜플 (Tuple)
- 힙 튜플(Heap Tuple)이라고도 불린다. 크기가 고정적이지 않고 자유롭기 때문에 Heap이 붙는 것 같다.
- 테이블 한 줄의 데이터와 그 튜플에 대한 트랜잭션 정보를 담고 있다.
