# TOAST

## 참고자료
- [PostgreSQL Manual](https://www.postgresql.org/docs/current/storage-toast.html)

## 정의
- 기존 페이지 구조는 8KB로 크기가 일정하며, 하나의 튜플이 둘 이상의 페이지를 점유할 수 없음
- 매우 큰 데이터를 저장하기 위한 압축, 외부저장 전략을 통틀어 TOAST라고 함.
- TOAST 적용대상
  1. 가변길이 데이터 (varchar, text)
  2. Bytea (이진데이터)

## TOAST 전략
1. `TOAST_TUPLE_THRESHOLD` 파라미터 (일반적으로 2kb)를 초과하는 Row는 압축을 시도.
2. 압축된 행이 `TOAST_TUPLE_THRESHOLD` 값을
   1. 초과하면 별도의 TOAST 테이블을 생성하여 저장하고, 본 튜플에는 TOAST테이블의 위치값을 저장함.
   2. 초과하지 않으면 별도의 조치를 취하지 않음.

